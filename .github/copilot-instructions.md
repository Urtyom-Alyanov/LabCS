# Инструкции для AI-агентов (Copilot)

Кратко и конкретно — что важно знать, чтобы быстро работать с этим репозиторием.

- **Назначение проекта:** небольшой учебный .NET консольный проект (алгоритмы сортировок и поиск) — исполняемый проект `Lab04.csproj` (целевой фреймворк `net9.0`). См. [Lab04.csproj](Lab04.csproj) и [Program.cs](Program.cs).

- **Требуемая среда:** .NET SDK 9.x. Проверка: `dotnet --list-sdks`.

- **Сборка и запуск:**
  - Сборка: `dotnet build --project Lab04.csproj -c Debug`.
  - Запуск: `dotnet run --project Lab04.csproj -c Debug`.
  - Быстрая проверка во время разработки: `dotnet watch run --project Lab04.csproj` (если установлен `dotnet-watch`).

- **Структура и важные файлы:**
  - Основной код в одном файле: [Program.cs](Program.cs). В нём:
    - `CommonUtilities` — утилиты ввода/валидации.
    - `ArrayOperations` — чистые реализации сортировок и поиска (много методов-генераторов, возвращают `IEnumerable<int[]>` для шагов).
    - `MenuWithState` — оболочка с состоянием (текущий массив) и CLI-меню.
    - `Program.Main` — точка входа, создаёт `MenuWithState`.
  - Проект использует `ImplicitUsings` и генерируемые файлы в `obj/` (например `Lab04.GlobalUsings.g.cs`) — НЕ редактировать сгенерированные файлы.

- **Кодовые паттерны, характерные для проекта:**
  - Алгоритмы оформлены как статические методы в `ArrayOperations`; многие реализованы как генераторы (`IEnumerable<int[]>`) для поэтапной демонстрации. При изменении алгоритма сохраняйте сигнатуры (возврат шагов) если цель — визуализация/демонстрация.
  - Состояние пользовательского интерфейса держится в `MenuWithState` — изменения, связанные со вводом/выводом, делайте здесь.
  - Ввод/валидация через рекурсивную функцию `CommonUtilities.GetAndValidateNumber` — будьте аккуратны при изменении логики ввода, чтобы не сломать ожидаемое поведение (повторный ввод при ошибке).

- **Избегать/неправильные места для изменений:**
  - НЕ менять файлы в `obj/` и `bin/` — они генерируются. Игнорировать их в правках и PR.

- **Работа с изменениями и PR:**
  - Держите правки компактными — одна логическая задача на PR.
  - Перед PR: `dotnet build` и короткий запуск (`dotnet run`) для проверки CLI-пути, который вы затронули.

- **Тесты:** в репозитории тестов нет. Если добавляете тесты — создайте отдельный проект `Lab04.Tests` (xUnit/NUnit), подключите к решению и добавьте `dotnet test` в CI.

- **Отладка в VS Code:** используйте конфигурацию .NET Launch (pipe) или `dotnet run` в терминале. Проверьте, что в настройках выбран SDK, соответствующий `net9.0`.

- **Примеры задач, где агент может помочь сразу:**
  - Рефакторинг алгоритмов в `ArrayOperations` с сохранением семантики шагов.
  - Добавление новых пунктов меню в `MenuWithState` (вставлять логику вызова в `switch` в `Main`).
  - Добавление юнит-тестов для ключевых алгоритмов — создать отдельный тест-проект.

- **Если файл `.github/copilot-instructions.md` уже существует:** сохранить полезные секции из него и аккуратно влить сюда конкретику о `Program.cs` и `Lab04.csproj`.

Пожалуйста, скажите, какие разделы хотите расширить (например, шаблон launch.json, CI-команды или примеры тестов), и я дополню файл.
